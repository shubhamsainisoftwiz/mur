<nb-card class="px-2">
    <nb-card-header class="row align-items-center justify-content-between">
      <div class="col-md-8 text-start">
        <h5 style="font-weight: 600">SCG Wise Analysis</h5>
      </div>
  
      <div class="col-md-4 pr-0 row p-0 m-0 justify-content-end ">
        <!-- <div class="col-6 p-1">
          <ng-select class="dropdown-top" [(ngModel)]="analysisType" class="fixed-dropdown-size" (change)="getFormValue()"
            [appendTo]="'body'" placeholder="Select Status" fullWidth fieldSize="medium">
            <ng-option value="MTD">Monthly Analysis</ng-option>
            <ng-option value="QTD">Quaterly Analysis</ng-option>
          </ng-select>
        </div> -->
        <form [formGroup]="nbForm" class="col-6 p-1 text-right">
          <div class="p-1">
            <p-calendar formControlName="YearDate" view="year" (ngModelChange)="getFormValue()" dateFormat="yy"
              placeholder="Select Year" [readonlyInput]="true"></p-calendar>
            <!-- <nb-calendar [(date)]="date" [boundingMonth]="true"></nb-calendar> -->
          </div>
        </form>
      </div>
    </nb-card-header>
  </nb-card>


  <nb-card>
    <nb-card-body id="barChart" style="height: 30vh">
      <div class="row justify-content-center align-content-center">
        <h6 class="my-3 col-12 text-center" style="font-weight: 600">
            Shore Cleaning Gang - $
            <!-- ({{ viewListTable === "amount" ? "$" : "%" }}) -->
        </h6>
        <!-- <div class="my-3 col-3" style="font-weight: 600"> -->
            <!-- <nb-radio-group class="d-flex justify-content-end" [(ngModel)]="viewListTable">
              <nb-radio *ngFor="let option of options" [value]="option.value">
                {{ option.label }}
              </nb-radio>
            </nb-radio-group> -->
          <!-- <nb-radio-group
            class="d-flex justify-content-end"
            [(ngModel)]="viewListTable"
          >
            <nb-radio *ngFor="let option of options" [value]="option.value">
              {{ option.label }}
            </nb-radio>
          </nb-radio-group> -->
        <!-- </div> -->
      </div>
      <chart type="bar" [data]="data" [options]="chartOptions"></chart> <br>

      <!-- <chart type="bar" [data]="cargoData" [options]="chartOptions"></chart> -->
      <!-- <ngx-chartjs-line></ngx-chartjs-line> -->
    </nb-card-body>
  </nb-card>
  
  <nb-card>
    <nb-card-body class="mb-4">
      <div class="row justify-content-between">
        <div class="col-12">
          <div class="row justify-content-between align-content-center">
            <h6 class="my-3 col-6" style="font-weight: 600">
                SCG Analysis 
                <!-- ({{ viewListTable === "amount" ? "$" : "%" }}) -->
            </h6>
            <div class="my-3 col-6" style="font-weight: 600">
              <!-- <nb-radio-group class="d-flex justify-content-end" [(ngModel)]="viewListTable">
                <nb-radio *ngFor="let option of options" [value]="option.value">
                  {{ option.label }}
                </nb-radio>
              </nb-radio-group> -->
            </div>
          </div>
          <p-table [value]="SCGWiseDetails?.SCGAnalysis"  class="p-datatable p-component p-datatable-sm" rowGroupMode="rowspan" groupRowsBy="VesselName"
          sortField="VesselName" sortMode="single" [tableStyle]="{'min-width': '35rem'}">
          <ng-template pTemplate="header">
            <tr>
              <th class="text-start" colspan="2">
                Grand Total
                <!-- <p-sortIcon field="ActualSum"></p-sortIcon> -->
              </th>
              <th class="text-center" colspan="1">
                {{SCGWiseDetails?.GrandTotalSumOfSCGActuals}}
                <!-- <p-sortIcon field="Difference"></p-sortIcon> -->
              </th>
              <th class="text-center" colspan="1">
                {{SCGWiseDetails?.GrandTotalSumOfITDActuals}}
                <!-- <p-sortIcon field="Difference"></p-sortIcon> -->
              </th>
            </tr>
            <tr>
              <th>SCG Port</th>
              <th>Vessel Name</th>
              <th>Sum of SCG  Actual </th>
              <th>Sum of ITD  Actual</th>
           
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-customer let-rowIndex="rowIndex" let-rowgroup="rowgroup"
            let-rowspan="rowspan">
            <tr>

              <td *ngIf="rowgroup" [attr.rowspan]="rowspan">
                {{customer.SCGPort}}
              </td>
              <td>
                {{customer.VesselName}}
              </td>
              <td>
                {{customer.SumOfSCGActual}}
              </td>
              <td >
                {{customer.SumOfITDActual}}
              </td>

             
            </tr>
          </ng-template>
        </p-table>
        </div>
      </div>
    </nb-card-body>
  </nb-card>
  
 
  
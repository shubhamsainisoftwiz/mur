<div>
  <nb-card class="px-2">
    <nb-card-header class="row align-items-center justify-content-center">
      <div class="col-md-6 text-start">
        <h5 style="font-weight: 600">Analysis Template</h5>
      </div>
      <div class="col-md-6 text-right">
        <button nbButton status="danger" type="reset" (click)="resetForm()" class="mr-2">Reset</button>
        <button type="button" nbButton status="primary" (click)="searchFilter()" type="button"
          class=" mr-2">Search</button>
      </div>

      <form [formGroup]="nbForm" class="col-md-12 mt-3 row p-0 justify-content-center">
        <div class="col-md-12 mt-3 row p-0 justify-content-center">
          <div class="p-1" class="col-2 p-0 px-1 my-1">

            <ng-select [items]="vesselListDropDown" (change)="selectAll('VesselListIds',vesselListDropDown,'one',7,1)"
              [clearSearchOnAdd]="true" [closeOnSelect]="false" labelForId="state" [multiple]="true"
              placeholder="Select Vessel Name" clearAllText="unselectAll('VesselListIds')"
              formControlName="VesselListIds" [bindLabel]="'VesselName'">
              <ng-template ng-header-tmp>
                <button size="tiny" nbButton (click)="selectAll('VesselListIds',vesselListDropDown,'all',7,1)"
                  status="basic" class="btn btn-sm mr-2">Select all</button>
                <button size="tiny" nbButton (click)="unselectAll('VesselListIds')" status="basic"
                  class="btn btn-sm ">Unselect all</button>
              </ng-template>
              <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
                <div class="row">
                  <input id="item-{{index}}" class="mr-2" type="checkbox" [ngModel]="item$.selected"
                    [ngModelOptions]="{standalone: true}" />
                  {{item['VesselName']}}
                </div>
              </ng-template>
              <ng-template ng-multi-label-tmp let-items="items">
                <div class="ng-value" *ngFor="let item of items | slice:0:1">
                  {{item['VesselName']}}
                </div>
                <div class="ng-value" *ngIf="items.length > 1">
                  <span class="ng-value-label">{{items.length - 1}} more...</span>
                </div>
              </ng-template>
            </ng-select>


          </div>
          <div class="p-1" class="col-2 p-0 px-1 my-1">
            <input nbInput placeholder="Date Range" (keydown)="dateFilter($event, 'commence')"
              [disabled]="disableCommenceDatePicker" fullWidth formControlName="DateCommenceRangeControl"
              [nbDatepicker]="commencePicker" />
            <nb-rangepicker #commencePicker (rangeChange)="dateFilter($event, 'commence')"></nb-rangepicker>
            <!-- <p-calendar  formControlName="VoyageCommenceDate" view="month" (ngModelChange)="getFormValue()" dateFormat="mm/yy" placeholder="Voyage Commence Date" [readonlyInput]="true"></p-calendar> -->
            <!-- <nb-calendar [(date)]="date" [boundingMonth]="true"></nb-calendar> -->
          </div>
          <div class="p-1" class="col-2 p-0 px-1 my-1">
            <ng-select (change)="selectNameAll('CargoToLoadsListIds',portListDropDown?.CargoToLoads,'one',7,1)"
              [items]="portListDropDown?.CargoToLoads" [clearSearchOnAdd]="true" [closeOnSelect]="false"
              labelForId="state" [multiple]="true" placeholder="Select Cargo To Load" clearAllText="Clear"
              formControlName="CargoToLoadsListIds" [bindLabel]="'CargoToLoad'">
              <ng-template ng-header-tmp>
                <button size="tiny" nbButton
                  (click)="selectNameAll('CargoToLoadsListIds',portListDropDown?.CargoToLoads,'all',7,1)" status="basic"
                  class="btn btn-sm mr-2">Select all</button>
                <button size="tiny" nbButton (click)="unselectAll('CargoToLoadsListIds')" status="basic"
                  class="btn btn-sm ">Unselect all</button>
              </ng-template>
              <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
                <div class="row">
                  <input id="item-{{index}}" class="mr-2" type="checkbox" [ngModel]="item$.selected"
                    [ngModelOptions]="{standalone: true}" />
                  {{item['CargoToLoad']}}
                </div>
              </ng-template>
              <ng-template ng-multi-label-tmp let-items="items">
                <div class="ng-value" *ngFor="let item of items | slice:0:1">
                  {{item['CargoToLoad']}}
                </div>
                <div class="ng-value" *ngIf="items.length > 1">
                  <span class="ng-value-label">{{items.length - 1}} more...</span>
                </div>
              </ng-template>
            </ng-select>
          </div>
          <div class="p-1" class="col-2 p-0 px-1 my-1">
            <ng-select (change)="selectAll('LTCMURListIds',MURListDropDown?.ltrMurList,'one',7,1)"
              [items]="MURListDropDown?.ltrMurList" [clearSearchOnAdd]="true" [closeOnSelect]="false" labelForId="state"
              [multiple]="true" placeholder="Select LTC/MUR" clearAllText="Clear" formControlName="LTCMURListIds"
              [bindLabel]="'LTCMURName'">
              <ng-template ng-header-tmp>
                <button size="tiny" nbButton (click)="selectAll('LTCMURListIds',MURListDropDown?.ltrMurList,'all',7,1)"
                  status="basic" class="btn btn-sm mr-2">Select all</button>
                <button size="tiny" nbButton (click)="unselectAll('LTCMURListIds')" status="basic"
                  class="btn btn-sm ">Unselect all</button>
              </ng-template>
              <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
                <div class="row">
                  <input id="item-{{index}}" class="mr-2" type="checkbox" [ngModel]="item$.selected"
                    [ngModelOptions]="{standalone: true}" />
                  {{item['LTCMURName']}}
                </div>
              </ng-template>
              <ng-template ng-multi-label-tmp let-items="items">
                <div class="ng-value" *ngFor="let item of items | slice:0:1">
                  {{item['LTCMURName']}}
                </div>
                <div class="ng-value" *ngIf="items.length > 1">
                  <span class="ng-value-label">{{items.length - 1}} more...</span>
                </div>
              </ng-template>
            </ng-select>
          </div>
          <div class="p-1" class="col-2 p-0 px-1 my-1">
            <ng-select (change)="selectPlannedAll('ITDStatusListIds',MURListDropDown?.ITDStatusList,'one',7,1)"
              [items]="MURListDropDown?.ITDStatusList" [clearSearchOnAdd]="true" [closeOnSelect]="false"
              labelForId="state" [multiple]="true" placeholder="Select ITD Status" clearAllText="Clear"
              formControlName="ITDStatusListIds" [bindLabel]="'PlanStatusName'">
              <ng-template ng-header-tmp>
                <button size="tiny" nbButton
                  (click)="selectPlannedAll('ITDStatusListIds',MURListDropDown?.ITDStatusList,'all',7,1)" status="basic"
                  class="btn btn-sm mr-2">Select all</button>
                <button size="tiny" nbButton (click)="unselectAll('ITDStatusListIds')" status="basic"
                  class="btn btn-sm ">Unselect all</button>
              </ng-template>
              <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
                <div class="row">
                  <input id="item-{{index}}" class="mr-2" type="checkbox" [ngModel]="item$.selected"
                    [ngModelOptions]="{standalone: true}" />
                  {{item['PlanStatusName']}}
                </div>
              </ng-template>
              <ng-template ng-multi-label-tmp let-items="items">
                <div class="ng-value" *ngFor="let item of items | slice:0:1">
                  {{item['PlanStatusName']}}
                </div>
                <div class="ng-value" *ngIf="items.length > 1">
                  <span class="ng-value-label">{{items.length - 1}} more...</span>
                </div>
              </ng-template>
            </ng-select>
          </div>

          <div class="p-1" class="col-2 p-0 px-1 my-1">
            <ng-select (change)="selectPlannedAll('SCGStatusListIds',MURListDropDown?.SCGStatusList,'one',7,1)"
              [items]="MURListDropDown?.SCGStatusList" [clearSearchOnAdd]="true" [closeOnSelect]="false"
              labelForId="state" [multiple]="true" placeholder="Select SCG Status" clearAllText="Clear"
              formControlName="SCGStatusListIds" [bindLabel]="'PlanStatusName'">
              <ng-template ng-header-tmp>
                <button size="tiny" nbButton
                  (click)="selectPlannedAll('SCGStatusListIds',MURListDropDown?.SCGStatusList,'all',7,1)" status="basic"
                  class="btn btn-sm mr-2">Select all</button>
                <button size="tiny" nbButton (click)="unselectAll('SCGStatusListIds')" status="basic"
                  class="btn btn-sm ">Unselect all</button>
              </ng-template>
              <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
                <div class="row">
                  <input id="item-{{index}}" class="mr-2" type="checkbox" [ngModel]="item$.selected"
                    [ngModelOptions]="{standalone: true}" />
                  {{item['PlanStatusName']}}
                </div>
              </ng-template>
              <ng-template ng-multi-label-tmp let-items="items">
                <div class="ng-value" *ngFor="let item of items | slice:0:1">
                  {{item['PlanStatusName']}}
                </div>
                <div class="ng-value" *ngIf="items.length > 1">
                  <span class="ng-value-label">{{items.length - 1}} more...</span>
                </div>
              </ng-template>
            </ng-select>
          </div>
          <div class="p-1" class="col p-0 px-1 my-1">
            <ng-select (change)="selectNameAll('SCGVendorsListIds',portListDropDown?.SCGVendors,'one',7,1)"
              [items]="portListDropDown?.SCGVendors" [clearSearchOnAdd]="true" [closeOnSelect]="false"
              labelForId="state" [multiple]="true" placeholder="Select SCG Vendor Name" clearAllText="Clear"
              formControlName="SCGVendorsListIds" [bindLabel]="'SCGVendor'">
              <ng-template ng-header-tmp>
                <button size="tiny" nbButton
                  (click)="selectNameAll('SCGVendorsListIds',portListDropDown?.SCGVendors,'all',7,1)" status="basic"
                  class="btn btn-sm mr-2">Select all</button>
                <button size="tiny" nbButton (click)="unselectAll('SCGVendorsListIds')" status="basic"
                  class="btn btn-sm ">Unselect all</button>
              </ng-template>
              <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
                <div class="row">
                  <input id="item-{{index}}" class="mr-2" type="checkbox" [ngModel]="item$.selected"
                    [ngModelOptions]="{standalone: true}" />
                  {{item['SCGVendor']}}
                </div>
              </ng-template>
              <ng-template ng-multi-label-tmp let-items="items">
                <div class="ng-value" *ngFor="let item of items | slice:0:1">
                  {{item['SCGVendor']}}
                </div>
                <div class="ng-value" *ngIf="items.length > 1">
                  <span class="ng-value-label">{{items.length - 1}} more...</span>
                </div>
              </ng-template>
            </ng-select>
          </div>
          <div class="p-1" class="col p-0 px-1 my-1">
            <ng-select (change)="selectNameAll('SHAVendorsListIds',portListDropDown?.ShaVendors,'one',7,1)"
              [items]="portListDropDown?.ShaVendors" [clearSearchOnAdd]="true" [closeOnSelect]="false"
              labelForId="state" [multiple]="true" placeholder="Select SHA Vendor Name" clearAllText="Clear"
              formControlName="SHAVendorsListIds" [bindLabel]="'SHAVendor'">
              <ng-template ng-header-tmp>
                <button size="tiny" nbButton
                  (click)="selectNameAll('SHAVendorsListIds',portListDropDown?.ShaVendors,'all',7,1)" status="basic"
                  class="btn btn-sm mr-2">Select all</button>
                <button size="tiny" nbButton (click)="unselectAll('SHAVendorsListIds')" status="basic"
                  class="btn btn-sm ">Unselect all</button>
              </ng-template>
              <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
                <div class="row">
                  <input id="item-{{index}}" class="mr-2" type="checkbox" [ngModel]="item$.selected"
                    [ngModelOptions]="{standalone: true}" />
                  {{item['SHAVendor']}}
                </div>
              </ng-template>
              <ng-template ng-multi-label-tmp let-items="items">
                <div class="ng-value" *ngFor="let item of items | slice:0:1">
                  {{item['SHAVendor']}}
                </div>
                <div class="ng-value" *ngIf="items.length > 1">
                  <span class="ng-value-label">{{items.length - 1}} more...</span>
                </div>
              </ng-template>
            </ng-select>
          </div>
          <div class="p-1" class="col p-0 px-1 my-1">
            <ng-select (change)="selectAll('OwnerListIds',otherListDropDown?.OwnerList,'one',7,1)"
              [items]="otherListDropDown?.OwnerList" [clearSearchOnAdd]="true" [closeOnSelect]="false"
              labelForId="state" [multiple]="true" placeholder="Select Ower Name" clearAllText="Clear"
              formControlName="OwnerListIds" [bindLabel]="'OwnerName'">
              <ng-template ng-header-tmp>
                <button size="tiny" nbButton (click)="selectAll('OwnerListIds',otherListDropDown?.OwnerList,'all',7,1)"
                  status="basic" class="btn btn-sm mr-2">Select all</button>
                <button size="tiny" nbButton (click)="unselectAll('OwnerListIds')" status="basic"
                  class="btn btn-sm ">Unselect all</button>
              </ng-template>
              <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
                <div class="row">
                  <input id="item-{{index}}" class="mr-2" type="checkbox" [ngModel]="item$.selected"
                    [ngModelOptions]="{standalone: true}" />
                  {{item['OwnerName']}}
                </div>
              </ng-template>
              <ng-template ng-multi-label-tmp let-items="items">
                <div class="ng-value" *ngFor="let item of items | slice:0:1">
                  {{item['OwnerName']}}
                </div>
                <div class="ng-value" *ngIf="items.length > 1">
                  <span class="ng-value-label">{{items.length - 1}} more...</span>
                </div>
              </ng-template>
            </ng-select>
          </div>

          <div class="p-1" class="col p-0 px-1 my-1">
            <ng-select (change)="selectNameAll('LoadToPortsListIds',portListDropDown?.LoadToPorts,'one',7,1)"
              [items]="portListDropDown?.LoadToPorts" [clearSearchOnAdd]="true" [closeOnSelect]="false"
              labelForId="state" [multiple]="true" placeholder="Select Load Port" clearAllText="Clear"
              formControlName="LoadToPortsListIds" [bindLabel]="'LoadtoPort'">
              <ng-template ng-header-tmp>
                <button size="tiny" nbButton
                  (click)="selectNameAll('LoadToPortsListIds',portListDropDown?.LoadToPorts,'all',7,1)" status="basic"
                  class="btn btn-sm mr-2">Select all</button>
                <button size="tiny" nbButton (click)="unselectAll('LoadToPortsListIds')" status="basic"
                  class="btn btn-sm ">Unselect all</button>
              </ng-template>
              <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
                <div class="row">
                  <input id="item-{{index}}" class="mr-2" type="checkbox" [ngModel]="item$.selected"
                    [ngModelOptions]="{standalone: true}" />
                  {{item['LoadToPort']}}
                </div>
              </ng-template>
              <ng-template ng-multi-label-tmp let-items="items">
                <div class="ng-value" *ngFor="let item of items | slice:0:1">
                  {{item['LoadToPort']}}
                </div>
                <div class="ng-value" *ngIf="items.length > 1">
                  <span class="ng-value-label">{{items.length - 1}} more...</span>
                </div>
              </ng-template>
            </ng-select>
          </div>
          <div class="p-1" class="col p-0 px-1 my-1">
            <ng-select [items]="portListDropDown?.DischargePorts"
              (change)="selectNameAll('DischargePortsListIds',portListDropDown?.DischargePorts,'one',7,1)"
              [clearSearchOnAdd]="true" [closeOnSelect]="false" labelForId="state" [multiple]="true"
              placeholder="Select Discharge Port" clearAllText="Clear" formControlName="DischargePortsListIds"
              [bindLabel]="'StatusName'">
              <ng-template ng-header-tmp>
                <button size="tiny" nbButton
                  (click)="selectNameAll('DischargePortsListIds',portListDropDown?.DischargePorts,'all',7,1)"
                  status="basic" class="btn btn-sm mr-2">Select all</button>
                <button size="tiny" nbButton (click)="unselectAll('DischargePortsListIds')" status="basic"
                  class="btn btn-sm ">Unselect all</button>
              </ng-template>
              <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
                <div class="row">
                  <input id="item-{{index}}" class="mr-2" type="checkbox" [ngModel]="item$.selected"
                    [ngModelOptions]="{standalone: true}" />
                  {{item['DischargePort']}}
                </div>
              </ng-template>
              <ng-template ng-multi-label-tmp let-items="items">
                <div class="ng-value" *ngFor="let item of items | slice:0:1">
                  {{item['DischargePort']}}
                </div>
                <div class="ng-value" *ngIf="items.length > 1">
                  <span class="ng-value-label">{{items.length - 1}} more...</span>
                </div>
              </ng-template>
            </ng-select>
          </div>
          <!--  -->







        </div>
      </form>
    </nb-card-header>
  </nb-card>

  <nb-card [nbSpinner]="preloading" nbSpinnerStatus="primary" nbSpinnerSize="large" nbSpinnerMessage="">
    <nb-card-body>
      <div class="row justify-content-between align-items-start" *ngIf="budgetSummary">
        <div class="col-lg-6 col-md-12 row" style="max-height: 70vh; overflow: auto; overflow-x: auto">
          <div class="mb-3 col-lg-6 col-12" *ngFor="let item of budgetSummary?.VoyageSummary">
            <h6 *ngIf="item?.CleaningType === 'TCC'" style="font-weight: 600">
              Total Cleaning Costs
            </h6>
            <h6 *ngIf="item?.CleaningType === 'HCB'" style="font-weight: 600">
              Additional Crew Bonus
            </h6>
            <h6 *ngIf="item?.CleaningType === 'ITD'" style="font-weight: 600">
              Idle Time Days For Cleaning
            </h6>
            <h6 *ngIf="item?.CleaningType === 'SHA'" style="font-weight: 600">
              Hold Advisory by Shore & Roving Supdt Cost
            </h6>
            <h6 *ngIf="item?.CleaningType === 'ITC'" style="font-weight: 600">
              Idle Time Cost (Fixture Costs)
            </h6>
            <h6 *ngIf="item?.CleaningType === 'HCE'" style="font-weight: 600">
              Hold Cleaning Equipment
            </h6>
            <h6 *ngIf="item?.CleaningType === 'ITB'" style="font-weight: 600">
              Idle Time Bunker $ (LSF+LSG)
            </h6>
            <h6 *ngIf="item?.CleaningType === 'HCC'" style="font-weight: 600">
              Hold Cleaning Chemicals
            </h6>
            <h6 *ngIf="item?.CleaningType === 'SCG'" style="font-weight: 600">
              Shore Cleaning Gang
            </h6>
            <h6 *ngIf="item?.CleaningType === 'HCX'" style="font-weight: 600">
              Hold Cleaning Consumables
            </h6>
            <p-table #dt1 [value]="item?.Budget" dataKey="id" [rows]="1" class="p-datatable p-component p-datatable-sm"
              [showCurrentPageReport]="true"
              currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
              [globalFilterFields]="['CargoName']" [tableStyle]="{ 'min-width': '20rem' }" [columns]="colHCC">
              <!-- <ng-template pTemplate="caption">
        <div class="d-flex">
          <span class=" ml-auto">
            <input type="text" nbInput (input)="dt1.filterGlobal($event.target.value, 'contains')"
              placeholder="Search keyword" />
          </span>
        </div>
      </ng-template> -->

              <ng-template pTemplate="header" let-columns>
                <tr>
                  <th>{{ item?.CleaningType }} Budget</th>
                  <th>{{ item?.CleaningType }} Actual</th>
                  <th>{{ item?.CleaningType }} Diff.</th>
                  <!-- <th *ngFor="let col of colHCC" pSortableColumn="CargoName">
                  {{ col.header }} <p-sortIcon field="CargoName"></p-sortIcon>
                </th> -->
                </tr>
              </ng-template>
              <ng-template pTemplate="body" let-product>
                <tr [pEditableRow]="product">
                  <td>
                    <div [ngClass]="checkListRecord === false ? 'd-none' : ''">
                      {{ product?.BudgetSum }}
                    </div>
                    <ngx-skeleton-loader [ngClass]="checkListRecord === true ? 'd-none' : ''" count="1"
                      appearance="line" animation="pulse">
                    </ngx-skeleton-loader>
                  </td>
                  <td>
                    <div [ngClass]="checkListRecord === false ? 'd-none' : ''">
                      {{ product?.ActualSum }}
                    </div>
                    <ngx-skeleton-loader [ngClass]="checkListRecord === true ? 'd-none' : ''" count="1"
                      appearance="line" animation="pulse">
                    </ngx-skeleton-loader>
                  </td>
                  <td>
                    <div [ngClass]="checkListRecord === false ? 'd-none' : ''">
                      {{ product?.Difference }}
                    </div>
                    <ngx-skeleton-loader [ngClass]="checkListRecord === true ? 'd-none' : ''" count="1"
                      appearance="line" animation="pulse">
                    </ngx-skeleton-loader>
                  </td>
                </tr>
              </ng-template>
              <ng-template pTemplate="emptymessage">
                <tr>
                  <td colspan="7">{{ emptymessage }}</td>
                </tr>
              </ng-template>
            </p-table>
          </div>
        </div>
        <div class=" col-lg-3 col-md-12 mt-md-3" >
          <p-table #dt1 [value]="budgetSummary?.LoadToPortCount" dataKey="id"
            class="p-datatable p-component p-datatable-sm" [showCurrentPageReport]="true"
            currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
            [globalFilterFields]="['CargoName']" [tableStyle]="{ 'min-width': '10rem' }" [columns]="cols">
            <!-- <ng-template pTemplate="caption">
        <div class="d-flex">
          <span class=" ml-auto">
            <input type="text" nbInput (input)="dt1.filterGlobal($event.target.value, 'contains')"
              placeholder="Search keyword" />
          </span>
        </div>
      </ng-template> -->

            <ng-template pTemplate="header" let-columns>
              <tr>
                <th class="text-center" >
                  Grand Total
                  <!-- <p-sortIcon field="ActualSum"></p-sortIcon> -->
                </th>
                <th class="text-center">
                  {{budgetSummary?.LoadToPortGrandTotal}}
                  <!-- <p-sortIcon field="Difference"></p-sortIcon> -->
                </th>
              <tr>
                <th pSortableColumn="ActualSum">
                  Load Port
                  <!-- <p-sortIcon field="ActualSum"></p-sortIcon> -->
                </th>
                <th pSortableColumn="Difference">
                  Count
                  <!-- <p-sortIcon field="Difference"></p-sortIcon> -->
                </th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-product>
              <tr [pEditableRow]="product">
                <td>
                  <div [ngClass]="checkListRecord === false ? 'd-none' : ''">
                    {{ product?.PortName }}
                  </div>
                  <ngx-skeleton-loader [ngClass]="checkListRecord === true ? 'd-none' : ''" count="1" appearance="line"
                    animation="pulse">
                  </ngx-skeleton-loader>
                </td>
                <td>
                  <div [ngClass]="checkListRecord === false ? 'd-none' : ''">
                    {{ product?.Count }}
                  </div>
                  <ngx-skeleton-loader [ngClass]="checkListRecord === true ? 'd-none' : ''" count="1" appearance="line"
                    animation="pulse">
                  </ngx-skeleton-loader>
                </td>
              </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage">
              <tr>
                <td colspan="7">{{ emptymessage }}</td>
              </tr>
            </ng-template>
          </p-table>
        </div>
        <div class=" col-lg-3 col-md-12 mt-md-3" >
          <p-table #dt1 [value]="budgetSummary?.DischargePortCount" dataKey="id"
            class="p-datatable p-component p-datatable-sm" [showCurrentPageReport]="true"
            currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
            [globalFilterFields]="['CargoName']" [tableStyle]="{ 'min-width': '10rem' }" [columns]="cols">
            <!-- <ng-template pTemplate="caption">
        <div class="d-flex">
          <span class=" ml-auto">
            <input type="text" nbInput (input)="dt1.filterGlobal($event.target.value, 'contains')"
              placeholder="Search keyword" />
          </span>
        </div>
      </ng-template> -->

            <ng-template pTemplate="header" let-columns>
              <tr>
                <th class="text-center">
                  Grand Total
                  <!-- <p-sortIcon field="ActualSum"></p-sortIcon> -->
                </th>
                <th class="text-center">
                  {{budgetSummary?.DischargePortGrandTotal}}
                  <!-- <p-sortIcon field="Difference"></p-sortIcon> -->
                </th>
              <tr>
                <th pSortableColumn="ActualSum">
                  Discharge Port
                  <!-- <p-sortIcon field="ActualSum"></p-sortIcon> -->
                </th>
                <th pSortableColumn="Difference">
                  Count
                  <!-- <p-sortIcon field="Difference"></p-sortIcon> -->
                </th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-product>
              <tr [pEditableRow]="product">
                <td>
                  <div [ngClass]="checkListRecord === false ? 'd-none' : ''">
                    {{ product?.PortName }}
                  </div>
                  <ngx-skeleton-loader [ngClass]="checkListRecord === true ? 'd-none' : ''" count="1" appearance="line"
                    animation="pulse">
                  </ngx-skeleton-loader>
                </td>
                <td>
                  <div [ngClass]="checkListRecord === false ? 'd-none' : ''">
                    {{ product?.Count }}
                  </div>
                  <ngx-skeleton-loader [ngClass]="checkListRecord === true ? 'd-none' : ''" count="1" appearance="line"
                    animation="pulse">
                  </ngx-skeleton-loader>
                </td>
              </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage">
              <tr>
                <td colspan="7">{{ emptymessage }}</td>
              </tr>
            </ng-template>
          </p-table>
        </div>
      </div>
    </nb-card-body>
  </nb-card>
  <p-toast></p-toast>
</div>